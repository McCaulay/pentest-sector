# 53 - DNS

---

- [DNS Records](#dns-records)
- [Zone Transfer](#zone-transfer)
- [Wordlists](#wordlists)
- [Brute Forcing](#bruteforcing)
- [DNS Enum](dns-enum)

> {info} **DNS** stands for **Domain Name System**

<a name="dns-records"></a>
## DNS Records
Show the IP address of a domain by finding the A host record.
```sh
host www.example.com
```

View name servers
```sh
host -t ns example.com
```

Shows the MX records for the domain.
```sh
host -t mx example.com
```

Shows the txt records for the domain.
```sh
host -t txt example.com
```

<a name="zone-transfer"></a>
## Zone Transfer
Perform zone transfer for example.com with name server ns2.example.com.
```sh
host -l example.com ns2.example.com
```

If the server has a dns running, and you know / guess the domain of the server, this will try to perform a zone transfer to show you information.
```sh
dig axfr @__VICTIM_IP__ example.com
```

<a name="wordlists"></a>
## Wordlists
```sh
/usr/share/seclists/Discovery/DNS/
```

```sh
/usr/share/seclists/Discovery/DNS/bitquark-subdomains-top100000.txt
```

<a name="bruteforcing"></a>
## Brute Forcing
### Forward Lookup
```sh
for ip in $(cat list.txt); do host $ip.example.com; done
```

### Reverse Lookup
```sh
for ip in $(seq 1 255); do host 192.168.0.$ip; done | grep -v "not found"
```

## DNS Recon
| Argument       | Description                  |
| :-             | :-                           |
| -d             | The domain.                  |
| -t             | The recon type to perform.   |
| -D             | A list of subdomains to try. |


### Zone Transfer
```sh
dnsrecon -d example.com -t axfr
```

### Bruteforce subdomains
```sh
dnsrecon -d example.com -D /usr/share/seclists/Discovery/DNS/bitquark-subdomains-top100000.txt -t brt
```

<a name="dns-enum"></a>
## DNS Enum
```sh
dnsenum example.com
```
