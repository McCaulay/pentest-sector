# 139 / 445 - SMB

---

- [nMap Scripts](#nmap-scripts)
- [SMB Client](#smb-client)
- [Mounting](#mounting)
- [Enum 4 Linux](#enum4linux)
- [NBT Scan](#nbtscan)

> {info} **SMB** stands for **Server Message Block**

<a name="nmap-scripts"></a>
## nMap Scripts
```sh
nmap --script "safe or smb-enum-*" -p 445 __VICTIM_IP__
```

<a name="smb-client"></a>
## SMB Client
List smb shares
```sh
smbclient -L __VICTIM_IP__
```

List folders within share
```sh
smbclient \\\\__VICTIM_IP__\\Users
```

<a name="mounting"></a>
## Mounting
Mount `Users` share anonymously to `/mnt/share`.
```sh
mount -t cifs //__VICTIM_IP__/share /mnt/share
```

Mount share as user.
```sh
mount -t cifs -o username=john,password=password123 //__VICTIM_IP__/Users /mnt/share
```

<a name="enum4linux"></a>
## Enum 4 Linux
Enumerate information from SMB
```sh
enum4linux __VICTIM_IP__
```

<a name="nbtscan"></a>
## NBT Scan
| Argument       | Description                                           |
| :-             | :-                                                    |
| -r             | Queries NetBIOS name service for valid NetBIOS names. |
```sh
sudo nbtscan -r 192.168.0.1/24
```
